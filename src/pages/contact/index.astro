---
import FloatingHomeButton from "../../components/astro/FloatingHomeButton.astro";
import ContactForm from "../../components/react/ContactForm/ContactForm";
import CardLayout from "../../layouts/CardLayout.astro";
import { getLocaleEx } from "../../i18n/getLocaleEx";
import i18next, { t } from 'i18next';
import type {ContactForm as ContactFormRes} from "../../i18n/namespaces"


const accentColor = "var(--accent-contact)";

// i18next
const locale = getLocaleEx(Astro);
const namespace = "contactForm";
if (i18next.isInitialized)
{
    await i18next.changeLanguage(locale);
    await i18next.loadNamespaces([namespace]);
}

const res: ContactFormRes = i18next.getResourceBundle(locale, namespace)
---

<CardLayout accentColor={accentColor} cardStyle="contact">
    <ContactForm resources={res} client:load/>
</CardLayout>

<FloatingHomeButton accentColor={accentColor} />

<style>
    body {
        align-items: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0px;
    }
</style>
