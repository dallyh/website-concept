---
import FloatingHomeButton from "../../components/astro/FloatingHomeButton.astro";
import ContactForm from "../../components/react/ContactForm/ContactForm";
import CardLayout from "../../layouts/CardLayout.astro";
import { getLocaleEx } from "../../i18n/getLocaleEx";
import ContactFormT from "../../components/react/ContactForm/ContactFormT";
import i18next, { t } from 'i18next';
import * as resrc from "../../res";


const accentColor = "var(--accent-contact)";

// i18next
const locale = getLocaleEx(Astro);
const namespace = "contactForm";
if (i18next.isInitialized)
{
    await i18next.changeLanguage(locale);
    await i18next.loadNamespaces([namespace]);
}

const res: resrc.TranslationResources.contactFormRes = i18next.getResourceBundle(locale, namespace)
---

<CardLayout accentColor={accentColor} cardStyle="contact">
     <!--{import.meta.env.PROD && <ContactForm locale={locale} client:only="react"/>}
    {!import.meta.env.PROD && <ContactForm locale={locale} client:load/>} -->
     <ContactFormT resources={res} client:load /> 
</CardLayout>

<FloatingHomeButton accentColor={accentColor} />

<style>
    body {
        align-items: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0px;
    }
</style>
