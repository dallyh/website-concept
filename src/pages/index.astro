---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/astro/Hero.astro";
import Footer from "../components/astro/Footer.astro";
import { getLocaleUrl } from "astro-i18n-aut";
import { getLocaleEx } from "../i18n/getLocaleEx";

const accentColor = "var(--accent)";
const locale = getLocaleEx(Astro);
---

<Layout title="Welcome to Astro.">
    <main>
        <Hero style="landing"/>
        <div id="cards">
            <a href={getLocaleUrl("/resume", locale)} class="card" title="Resume">
                <div class="card-content">
                    <div class="card-image">
                        <i class="gg-file-document"></i>
                    </div>
                    <div class="card-info-wrapper">
                        <div class="card-info">
                            <i class="gg-file-document"></i>
                            <div class="card-info-title">
                                <h3>Resume</h3>
                                <h4>My resume, on the web.</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <a href={getLocaleUrl("/projects", locale)} class="card" title="My projects">
                <div class="card-content">
                    <div class="card-image">
                        <i class="gg-git-fork"></i>
                    </div>
                    <div class="card-info-wrapper">
                        <div class="card-info">
                            <i class="gg-git-fork"></i>
                            <div class="card-info-title">
                                <h3>Projects</h3>
                                <h4>A list of my projects</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <a href={getLocaleUrl("/contact", locale)} class="card" title="Contact form">
                <div class="card-content">
                    <div class="card-image">
                        <i class="gg-mail"></i>
                    </div>
                    <div class="card-info-wrapper">
                        <div class="card-info">
                            <i class="gg-mail"></i>
                            <div class="card-info-title">
                                <h3>Contact</h3>
                                <h4>Contact me here</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </main>
    <Footer/>
</Layout>

<script>
    import * as card from "../scripts/setup-cards";

    document.addEventListener(
        "astro:page-load",
        (e) => {
            if (window.location.pathname !== `${import.meta.env.BASE_URL}`)
            {
                e.target?.removeEventListener;
                return;
            }
            card.setupCards();
        },
        { once: false },
    );
</script>

<style define:vars={{accentColor}}>
    @import url(../styles/cards.css);
</style>
