---
interface Props {
    accentColor: string,
}

const { accentColor } = Astro.props;
---

<div class="card">
    <div class="card-overlay"></div>
    <div class="card-border"></div>
    <div class="card-content">
        <slot/>
    </div>
</div>

<style define:vars={{accentColor}} >
    .card {
        /* background-color: var(--card-bg); */
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        position: relative;
        height: fit-content;
        width: 1200px;
    }

    @keyframes overlay-in {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    .card::before,
    .card::after {
        border-radius: inherit;
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        animation: overlay-in 500ms ease-in-out both;
    }

    .card::before {
        background: radial-gradient(1200px circle at top left, rgba(var(--accentColor), 0.06), transparent 40%);
        z-index: 3;
    }

    .card::after {
        width: 100%;
        height: 100%;
        background: radial-gradient(1800px circle at top left, rgba(var(--accentColor), 0.5), transparent 40%);
        z-index: 1;
    }

    .card > .card-overlay {
        background-color: var(--card-color);
        height: 100%;
        width: 100%;
        border-radius: inherit;
        inset: 1px;
        padding: 10px;
        position: absolute;
        z-index: 2;
    }

    .card > .card-border {
        position: absolute;
        align-self: end;
        height: 100%;
        width: 75%;
        z-index: 4;
        border-radius: 0px 10px 10px 0px;
        background: linear-gradient(120deg, transparent 0%, transparent 50%, rgba(var(--accentColor), 0.5) 100%);
        right: 0;
        animation: overlay-in 500ms ease-in-out both;
    }

    .card .card-border::before {
        content: "";
        background: linear-gradient(120deg, transparent 0%, transparent 50%, var(--card-color) 50%);
        height: 100%;
        width: 100%;
        border-radius: inherit;
        inset: -1px;
        padding: 10px;
        position: absolute;
        z-index: 5;
    }

    .card > .card-content {
        padding: 1rem;
        background-color: transparent;
        z-index: 1000;
        height: fit-content;
    }

    @media (max-width: 1200px) {
        .card {
            max-width: calc(100vw - 30px);
        }
    }
</style>
